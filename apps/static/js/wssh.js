function WSSHClient(){}WSSHClient.prototype._generateEndpoint=function(a){console.log(a);return("https:"==window.location.protocol?"wss://":"ws://")+window.location.host+":8080/applications"};
WSSHClient.prototype.connect=function(a){var c=this._generateEndpoint(a);if(window.WebSocket)this._connection=new WebSocket(c);else if(window.MozWebSocket)this._connection=MozWebSocket(c);else{a.onError("WebSocket Not Supported");return}this._connection.onopen=function(){a.onConnect()};this._connection.onmessage=function(b){b=JSON.parse(b.data.toString());if(void 0!==b.error)a.onError(b.error);else a.onData(b.data)};this._connection.onclose=function(b){a.onClose()}};WSSHClient.prototype.send=function(a){this._connection.send(JSON.stringify({data:a}))};